############
## Global ##
############
global:
  tls:
    organization:
      rootCertificatePEM: |
        # Subject: C=NL, ST=Noord-Holland, L=Amsterdam, O=Common Ground, OU=NLX
        # Issuer: C=NL, ST=Noord-Holland, L=Amsterdam, O=Common Ground, OU=NLX
        -----BEGIN CERTIFICATE-----
        MIIDZDCCAkygAwIBAgIJAON5GtGjnPA7MA0GCSqGSIb3DQEBCwUAMF8xDDAKBgNV
        BAsMA05MWDEWMBQGA1UECgwNQ29tbW9uIEdyb3VuZDESMBAGA1UEBwwJQW1zdGVy
        ZGFtMRYwFAYDVQQIDA1Ob29yZC1Ib2xsYW5kMQswCQYDVQQGEwJOTDAeFw0yMzAy
        MjMxMjQzNDdaFw0yODAyMjMxMjQzNDdaMF8xDDAKBgNVBAsMA05MWDEWMBQGA1UE
        CgwNQ29tbW9uIEdyb3VuZDESMBAGA1UEBwwJQW1zdGVyZGFtMRYwFAYDVQQIDA1O
        b29yZC1Ib2xsYW5kMQswCQYDVQQGEwJOTDCCASIwDQYJKoZIhvcNAQEBBQADggEP
        ADCCAQoCggEBAN/I8K7RbyKOhZlQaMAJy4ObCAsAFeMwQs5xfBm+XUnmjngiRfFL
        uuteEcbVKfsdTXlZUYwr9Ra/DtYmR4j/nJkkOwT5hZJukAxybYA37FtJHN1Sxjzn
        kL9lN/68Wlxy4lpVuT8goHW2KXZXapefSYx4//smP7KXn70WCoCk4KZ4IEUwT3zn
        gsGRwjIat/9eESk01r38RI3OmZwiQYistKHoVJN4tbmjHMBfioHl9zD5ZU971Flv
        1HCdEHgHnHa3IjHp4vDRcL75R13llc4aavBepYymJRKOXAszaIg4KcZ8PcqDsSVJ
        bTcq0TMRFcKgSvi/Xmk4WhMVtTIguESH88kCAwEAAaMjMCEwDwYDVR0TAQH/BAUw
        AwEB/zAOBgNVHQ8BAf8EBAMCAQYwDQYJKoZIhvcNAQELBQADggEBAEldjFAtKiX/
        6Ha0lcMsNUxijLTzOghCeADXvmrlytuhbMPwDJJ5Pyw4Wu+Bn/JyhRjNAbhyHjQs
        vOHXfs4/dP+b4ZzZPW2rliAxQc7XCwVR2EZogA51qp8HHIztN3N9o9bDn9hTNOba
        3n28sIgTpvvhxbiXDxAUE2ZZUaEXpWYlUWRp8xd1hpVbGRR2dlG8QagMbUxot8+E
        wTeIFbdOwT7DhNS0E4O53oLShovqUQdno5cd5SiR5s+hQl3ZXkk14bl2KFETllWP
        wpQrolW7/kQJ39CzF82nya1ls+WL2p8uLHkluNB1Km1gUqMPp2MKnYO8q+zUgWkZ
        CxlDKI+vJa4=
        -----END CERTIFICATE-----

###########
## Chart ##
###########
ca:
  certificates:
    organization:
      commonName: inway.demo.gemeenteriemer.nl
      dnsNames:
        - inway.demo.gemeenteriemer.nl
managementAPI:
  serviceParkeerrechten:
    name: parkeerrechten
    endpoint_url: http://gemeente-riemer-parkeerrechten-api:8000
    api_specification_url: http://gemeente-riemer-parkeerrechten-api:8000/schema?format=openapi-json
    public_support_contact: support@nlx.io
    documentation_url: https://docs.nlx.io
    inways:
      - gemeente-riemer-nlx-inway

nlxctl:
  authorizationServerUrl: https://dex.demo.gemeenteriemer.nl

################
## Sub-charts ##
################
nlx-outway:
  config:
    directoryHostname: directory-api.demo.nlx.io

nlx-management:
  config:
    directoryHostname: directory-api.demo.nlx.io
    oidc:
      clientSecret: 99DbIk7FqlUYqbyD3qSX4Wmf
      discoveryURL: https://dex.demo.gemeenteriemer.nl
      redirectURL: https://management.demo.gemeenteriemer.nl/oidc/callback
      sessionSignKey: wXDSJYQjSLCsigtnRCbBMWjnvEhHFdu4
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - management.demo.gemeenteriemer.nl
    tls:
      - secretName: gemeenteriemer-nlx-management-ingress-tls
        hosts:
          - management.demo.gemeenteriemer.nl

dex:
  config:
    issuer: https://dex.demo.gemeenteriemer.nl
    staticClients:
      - id: nlx-management
        name: NLX Management
        secret: 99DbIk7FqlUYqbyD3qSX4Wmf
        redirectURIs:
          - https://management.demo.gemeenteriemer.nl/oidc/callback
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - host: dex.demo.gemeenteriemer.nl
        paths:
          - path: /
            pathType: ImplementationSpecific
    tls:
      - secretName: gemeenteriemer-dex-ingress-tls
        hosts:
          - dex.demo.gemeenteriemer.nl

nlx-inway:
  config:
    selfAddress: inway.demo.gemeenteriemer.nl:443
    managementAPIProxyAddress: inway.demo.gemeenteriemer.nl:8443
    directoryHostname: directory-api.demo.nlx.io
  service:
    type: LoadBalancer

manage-citizens-ui:
  enabled: true
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - manage-citizens.demo.gemeenteriemer.nl
    tls:
      - secretName: gemeenteriemer-manage-citizens-ui-ingress-tls
        hosts:
          - manage-citizens.demo.gemeenteriemer.nl
