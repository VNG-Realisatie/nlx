############
## Global ##
############
global:
  tls:
    organization:
      rootCertificatePEM: |
        # Subject: C=NL, ST=Noord-Holland, L=Amsterdam, O=Common Ground, OU=NLX
        # Issuer: C=NL, ST=Noord-Holland, L=Amsterdam, O=Common Ground, OU=NLX
        -----BEGIN CERTIFICATE-----
        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
        -----END CERTIFICATE-----

###########
## Chart ##
###########
ca:
  certificates:
    organization:
      commonName: inway.demo.gemeenteriemer.nl
      dnsNames:
        - inway.demo.gemeenteriemer.nl
managementAPI:
  serviceParkeerrechten:
    name: parkeerrechten
    endpoint_url: http://gemeente-riemer-parkeerrechten-api:8000
    api_specification_url: http://gemeente-riemer-parkeerrechten-api:8000/schema?format=openapi-json
    public_support_contact: support@nlx.io
    documentation_url: https://docs.nlx.io
    inways:
      - gemeente-riemer-nlx-inway

nlxctl:
  authorizationServerUrl: https://dex.demo.gemeenteriemer.nl

################
## Sub-charts ##
################
nlx-outway:
  config:
    directoryHostname: directory-api.demo.nlx.io

nlx-management:
  config:
    directoryHostname: directory-api.demo.nlx.io
    oidc:
      clientSecret: 99DbIk7FqlUYqbyD3qSX4Wmf
      discoveryURL: https://dex.demo.gemeenteriemer.nl
      redirectURL: https://management.demo.gemeenteriemer.nl/oidc/callback
      sessionSignKey: wXDSJYQjSLCsigtnRCbBMWjnvEhHFdu4
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - management.demo.gemeenteriemer.nl
    tls:
      - secretName: gemeenteriemer-nlx-management-ingress-tls
        hosts:
          - management.demo.gemeenteriemer.nl

dex:
  config:
    issuer: https://dex.demo.gemeenteriemer.nl
    staticClients:
      - id: nlx-management
        name: NLX Management
        secret: 99DbIk7FqlUYqbyD3qSX4Wmf
        redirectURIs:
          - https://management.demo.gemeenteriemer.nl/oidc/callback
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - host: dex.demo.gemeenteriemer.nl
        paths:
          - path: /
            pathType: ImplementationSpecific
    tls:
      - secretName: gemeenteriemer-dex-ingress-tls
        hosts:
          - dex.demo.gemeenteriemer.nl

nlx-inway:
  config:
    selfAddress: inway.demo.gemeenteriemer.nl:443
    managementAPIProxyAddress: inway.demo.gemeenteriemer.nl:8443
    directoryHostname: directory-api.demo.nlx.io
  service:
    type: LoadBalancer

manage-citizens-ui:
  enabled: true
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - manage-citizens.demo.gemeenteriemer.nl
    tls:
      - secretName: gemeenteriemer-manage-citizens-ui-ingress-tls
        hosts:
          - manage-citizens.demo.gemeenteriemer.nl
