############
## Global ##
############
global:
  tls:
    organization:
      rootCertificatePEM: |
        # Subject: C=NL, ST=Noord-Holland, L=Amsterdam, O=Common Ground, OU=NLX
        # Issuer: C=NL, ST=Noord-Holland, L=Amsterdam, O=Common Ground, OU=NLX
        -----BEGIN CERTIFICATE-----
        MIIFZDCCA0ygAwIBAgIJAK9jCE/rYM8/MA0GCSqGSIb3DQEBCwUAMF8xDDAKBgNV
        BAsMA05MWDEWMBQGA1UECgwNQ29tbW9uIEdyb3VuZDESMBAGA1UEBwwJQW1zdGVy
        ZGFtMRYwFAYDVQQIDA1Ob29yZC1Ib2xsYW5kMQswCQYDVQQGEwJOTDAeFw0yMzAy
        MjMxNTI2MTdaFw0yODAyMjMxNTI2MTdaMF8xDDAKBgNVBAsMA05MWDEWMBQGA1UE
        CgwNQ29tbW9uIEdyb3VuZDESMBAGA1UEBwwJQW1zdGVyZGFtMRYwFAYDVQQIDA1O
        b29yZC1Ib2xsYW5kMQswCQYDVQQGEwJOTDCCAiIwDQYJKoZIhvcNAQEBBQADggIP
        ADCCAgoCggIBANYcqLIeXDiWU73JSGsso016kEJi8E1ysuFG9eK0YHLT1HPQuCbF
        0cYNUz01kjGOun9Fj1rK4fp0Sq0rx4fnWO7XcnvXygm5jOAp0xkEvXJJh1PYvHlB
        87+d7Y5H2bgOX4rqBHEh8fWmjrv/A1b4YsdFxsyuS0VJM/4gmIDaNX/7l8npfQed
        I3vS2uu8REX17XfMzeLza8gf8EJ+AuhEQ1v56URDNBnmqbqOORaI127bHhD4g3v+
        okMD2kta3EMyRU80rQN9X68RfMD299F7qAmYpm5t4MkErgZ9Ln0oHJTh9LWVF3iS
        HT27On2051ngHnSLcCJAJZyheVFKzYPYalROv7UjyLyB62tRdM63P9VC/RDHaefb
        5zu74mCKcwLObAREFNcJsSvsVNOYgY9C4jKObV+nk+rXpv5+6pPBSGLeSMtJIDE+
        pO05ifx+HbmpRBC335P/gE16J0l/GroqUtWlAVDNraX5/5MRTJuArwr+Rrdv9/zN
        gxR/xDfoQh5XUGDGwaB5QhYdwqOrOKyX+SJtJUiLtkdXUuZOSGKuJuaoc5VIKEKb
        QMsIaej1YUiz29Yi9HFPMEh5QNr9z6+c1YB+RzbdMXMof5hAmASHjTJ7iKB5IOtr
        dtfGMk8IqF44w1UZ8bczzqBpudmW/b9HJm80n/5q3AthsfUjo/TN8s4/AgMBAAGj
        IzAhMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMA0GCSqGSIb3DQEB
        CwUAA4ICAQBZ2P6oCvo/1qazvhria9292RGvEOAsBuOjur9UNEHuN03iiSrOB1oS
        tE1GXaoznW3miGyn8FU/Jt1OS2pjjBeYRDlBsZb/vQUgiKIbzyIDd2Ua4MnzvBVA
        59eMr2EbPL5lxObJRGM2n56IE3wYJGHrz9Vck9rEt3ZbSUbsqspvPznE66yAwlgH
        tXpRx1FCFsfM/tWhJmutwKsMrnQc6zWmi5Ge/lHZ/KoX6pqi73LGVzOcC5XZOnFZ
        uA8hG3B09THZTbWyt0AuoOYAEzOdxtkEUR2yl6pIAJ94KXxYOP9wqykS0+5c6yLG
        E/6YCSGoyJL4X9YKAQLKpZrKW551ZJJ1TDoS1LiCGlq9p1a/NF0kB98cfoCoe4cF
        n/5AYFXLIz+loDs9awKM/ZtCfzs2dWFBB8uSnD1OCj4zU0pTn3mb9Xa0CuBN2bG/
        IKDT8sM7fK859H8HgK0jDJ918rgFlta5ljZVinNhWBu8t8rqAsUUMJ8xRaOpwj88
        qyA+z/5wh/oZRBRgvBqfT+s5L65NLWNa64j/yny3fuou5fUfS+FAlzKDPDkwEUR7
        GIhP25tFftvL1AzYJCx5wNoOCEILFuOGTWTTi9sRqK2O6dKxfYIDVaTY3npU1Si6
        lW5FbFPBMwVp/QPzZHol+IBQmU2UpqXwCZqXsnoe9gqzXzKP1mK50g==
        -----END CERTIFICATE-----

###########
## Chart ##
###########
ca:
  certificates:
    organization:
      commonName: inway.demo.gemeentestijns.nl
      dnsNames:
        - inway.demo.gemeentestijns.nl
managementAPI:
  serviceParkeerrechten:
    name: parkeerrechten
    endpoint_url: http://gemeente-stijns-parkeerrechten-api:8000
    api_specification_url: http://gemeente-stijns-parkeerrechten-api:8000/schema?format=openapi-json
    public_support_contact: support@nlx.io
    documentation_url: https://docs.nlx.io
    inways:
      - gemeente-stijns-nlx-inway
  ingress:
    enabled: true
    host: management-api.demo.gemeentestijns.nl
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    tls:
      secretName: gemeentestijns-nlx-management-api-ingress-tls

nlxctl:
  authorizationServerUrl: https://dex.demo.gemeentestijns.nl

outway:
  ingress:
    enabled: true
    host: outway.demo.gemeentestijns.nl
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    tls:
      secretName: gemeentestijns-nlx-outway-ingress-tls

outway-2:
  ingress:
    enabled: true
    host: outway-2.demo.gemeentestijns.nl
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    tls:
      secretName: gemeentestijns-nlx-outway-2-ingress-tls

################
## Sub-charts ##
################
nlx-outway:
  config:
    directoryHostname: directory-api.demo.nlx.io

nlx-outway-2:
  config:
    directoryHostname: directory-api.demo.nlx.io

nlx-management:
  config:
    directoryHostname: directory-api.demo.nlx.io
    oidc:
      clientSecret: 99DbIk7FqlUYqbyD3qSX4Wmf
      discoveryURL: https://dex.demo.gemeentestijns.nl
      redirectURL: https://management.demo.gemeentestijns.nl/oidc/callback
      sessionSignKey: wXDSJYQjSLCsigtnRCbBMWjnvEhHFdu4
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - management.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-nlx-management-ingress-tls
        hosts:
          - management.demo.gemeentestijns.nl

dex:
  config:
    issuer: https://dex.demo.gemeentestijns.nl
    staticClients:
      - id: nlx-management
        name: NLX Management
        secret: 99DbIk7FqlUYqbyD3qSX4Wmf
        redirectURIs:
          - https://management.demo.gemeentestijns.nl/oidc/callback
  ingress:
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - host: dex.demo.gemeentestijns.nl
        paths:
          - path: /
            pathType: ImplementationSpecific
    tls:
      - secretName: gemeentestijns-dex-ingress-tls
        hosts:
          - dex.demo.gemeentestijns.nl

nlx-inway:
  config:
    selfAddress: inway.demo.gemeentestijns.nl:443
    managementAPIProxyAddress: inway.demo.gemeentestijns.nl:8443
    directoryHostname: directory-api.demo.nlx.io
  service:
    type: LoadBalancer

parkeerrechten-api:
  enabled: true
  postgres:
    hostname: gemeente-stijns-postgresql
    database: parkeerrechten
    existingSecret:
      name: postgres.gemeente-stijns-postgresql.credentials.postgresql.acid.zalan.do

parkeerrechten-viewer:
  enabled: true
  parkeerrechtenApiBaseUrl: http://gemeente-stijns-nlx-outway/12345678901234567890/parkeerrechten/
  organizationName: "Gemeente Stijns"
  organizationLogo: https://gitlab.com/commonground/nlx/demo/-/raw/c75d67e8e0b631efdb0edec4df74b227483744c0/assets/stijns.svg
  organizationColor: "#ED7380"
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - parkeerrechten-viewer.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-parkeerrechten-viewer-ingress-tls
        hosts:
          - parkeerrechten-viewer.demo.gemeentestijns.nl

nginx-video-player-ui-proxy:
  outwayProxyUrl: http://gemeente-stijns-nlx-outway/12345678901234567891/voorbeeld-video-stream
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - nginx-video-player-proxy.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-nginx-video-player-proxy-ingress-tls
        hosts:
          - nginx-video-player-proxy.demo.gemeentestijns.nl

video-player-ui:
  organizationName: Gemeente Stijns
  outwayProxyUrl: http://nginx-video-player-proxy.demo.gemeentestijns.nl
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - video-player-ui.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-video-player-ui-ingress-tls
        hosts:
          - video-player-ui.demo.gemeentestijns.nl

nginx-websockets-proxy:
  outwayServiceBaseUrl: http://gemeente-stijns-nlx-outway/12345678901234567891/voorbeeld-websockets
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - nginx-websockets-proxy.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-nginx-websockets-proxy-ingress-tls
        hosts:
          - nginx-websockets-proxy.demo.gemeentestijns.nl

websockets-chat-ui:
  organizationName: Gemeente Stijns
  websocketsProxyBaseUrl: wss://nginx-websockets-proxy.demo.gemeentestijns.nl
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - websockets-chat-ui.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-websockets-chat-ui-ingress-tls
        hosts:
          - websockets-chat-ui.demo.gemeentestijns.nl

manage-citizens-ui:
  enabled: true
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - manage-citizens.demo.gemeentestijns.nl
    tls:
      - secretName: gemeentestijns-manage-citizens-ui-ingress-tls
        hosts:
          - manage-citizens.demo.gemeentestijns.nl
